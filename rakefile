task :default => ["development:start"]

namespace :neo4j do
  desc 'Start the Neo4j Server'
  task :start do
    sh 'neo4j start'
  end

  desc 'Stop the Neo4j Server'
  task :stop do
    sh 'neo4j stop'
  end
end

namespace :development do
  desc 'Quick dev start'
  task :start do
    begin
      sh 'neo4j start'
    rescue
    end
    sh 'rackup'
  end

  desc 'Start a racksh console for console debuggin.'
  task :sh do
    begin
      sh 'neo4j start'
    rescue
    end
    sh 'racksh'
  end
end

namespace :production do
  desc 'Start the server'
  task :start do
    sh 'bundle exec rackup -E production'
  end

  desc 'Start the server (network test)'
  task :start_net do
    sh 'ruby main.rb -o 0.0.0.0' # Â¿?
  end
end
